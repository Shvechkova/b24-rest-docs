# Основная контентная область

{% note warning "Мы еще обновляем эту страницу" %}

Тут может не хватать некоторых данных — дополним в ближайшее время

{% endnote %}

{% if build == 'dev' %}

{% note alert "TO-DO _не выгружается на prod_" %}

- нужны правки под стандарт написания
- верно ли указаны типы, отличные от стандартных?

{% endnote %}

{% endif %}

## BodyDto

Основная контентная область записи таймлайна

#|
|| **Поле** | **Описание** | **Дополнительно** ||
|| **logo^*^**
[`LogoDto`](#logodto) | Логотип записи | Обязательное. ||
|| **blocks**
[`ContentBlockDto`](#contentblockdto) | Ассоциативный массив объектов, описывающих контентные блоки. | Массив должен содержать хотя бы один элемент и не более 20 элементов. ||
|#

{% include [Сноска о параметрах](../../../../../_includes/required.md) %}

## LogoDto

Логотип записи таймлайна.

#|
|| **Поле** | **Описание** | **Дополнительно** ||
|| **code^*^**
[`string`](../../../../data-types.md) | Код логотипа | Обязательное. Список доступных кодов можно получить методом [crm.timeline.logo.list](.). ||
|| **action**
[`ActionDto`](./action.md) | Действие по нажатию на логотип. | ||
|#

{% include [Сноска о параметрах](../../../../../_includes/required.md) %}

## ContentBlockDto

Контентные блоки основной контентной области записи таймлайна. Сочетая эти блоки можно гибко собирать различные интерфейсы.

Общая структура блока:

```json
{
    "type": "Тип блока",
    "properties": {
        ... какие-то свойства, различные для каждого конкрентого блока
    }
}
```

Существует несколько различных типов контентных блоков:

### Текст

Самый простой блок `type = text`, который выводит некоторый форматированный текст.

#|
|| **Поле** | **Описание** | **Дополнительно** ||
|| **value^*^**
[`textWithTranslation`](./field-types.md) | Текст, который будет показан | Обязательное. ||
|| **multiline**
[`boolean`](../../../../data-types.md) | Обрабатывать ли переносы строк | Если true, то символы `\n` будут заменены на `<br>`. По-умолчанию `false`. ||
|| **title**
[`textWithTranslation`](./field-types.md) | Аттрибут title | ||
|| **bold**
[`boolean`](../../../../data-types.md) | Делать текст жирным? | По-умолчанию `false`. ||
|| **size**
[`string`](../../../../data-types.md) | Размер текста | Может принимать значения xs, sm, md (последнее используется по-умолчанию). ||
|| **color**
[`string`](../../../../data-types.md) | Цвет текста | Может принимать значения base_50, base_60, base_70, base_90, green ||
|| **scope**
[`string`](../../../../data-types.md) | Где показывать. | ||
|#

{% include [Сноска о параметрах](../../../../../_includes/required.md) %}

**Пример:**

```json
{
    "type": "text",
    "properties": {
     "value": "Здравствуйте!\nМы начинаем.",
     "multiline": true,
     "bold": true,
     "color": "base_90"
    }
}
```

### Длинный многострочный текст

Блок `type = largeText`, позволяющий отображать длинные многострочные тексты, которые будут автоматически свернуты до превью.

#|
|| **Поле** | **Описание** | **Дополнительно** ||
|| **value^*^**
[`textWithTranslation`](./field-types.md) | Текст, который будет показан | Обязательное. ||
|| **scope**
[`string`](../../../../data-types.md) | Где показывать | ||
|#

{% include [Сноска о параметрах](../../../../../_includes/required.md) %}

**Пример:**

```json
{
    "type": "largeText",
    "properties": {
     "value": "Здравствуйте!\nМы начинаем.\nМы продолжаем.\nМы все еще работаем над этим.\nМы продолжаем.\nМы близки к результату.\nДо свидания."
    }
}
```

### Ссылка

Блок `type = link`, который выводит ссылку.

#|
|| **Поле** | **Описание** | **Дополнительно** ||
|| **text^*^**
[`textWithTranslation`](./field-types.md) | Текст, который будет показан. HTML теги не поддерживаются. | Обязательное. ||
|| **action^*^**
[`ActionDto`](./action.md) | Действие по нажатию на ссылку. | Обязательное. ||
|| **bold**
[`boolean`](../../../../data-types.md) | Делать текст жирным? | По-умолчанию `false`. ||
|| **scope**
[`string`](../../../../data-types.md) | Где показывать | ||
|#

{% include [Сноска о параметрах](../../../../../_includes/required.md) %}

**Пример:**

```json
{
    "type": "link",
    "properties": {
     "text": "Открыть сделку",
     "action": {
        "type": "redirect",
        "uri": "/crm/deal/details/123/"
     },
     "bold": true
    }
}
```

### Блок с заголовком

Блок `type = withTitle` позволяет вывести пару название-значение. В качестве значения может быть использован другой контент-блок.

#|
|| **Поле** | **Описание** | **Дополнительно** ||
|| **title^*^**
[`textWithTranslation`](./field-types.md) | Текст заголовка | Обязательное. ||
|| **block^*^**
[`ContentBlockDto`](#contentblockdto) | Контент-блок, являющийся значением. Поддерживаются блоки с типами text, link, deadline. | Обязательное. ||
|| **inline**
[`boolean`](../../../../data-types.md) | Показывать ли название и значение в одну строку. | По-умолчанию `false`. ||
|| **scope**
[`string`](../../../../data-types.md) | Где показывать. | ||
|#

{% include [Сноска о параметрах](../../../../../_includes/required.md) %}